<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login - LinkUIU</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
  <script defer src="../assets/js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('login-form');
      const err = document.getElementById('error');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        err.textContent = '';
        const identifier = form.elements['identifier'].value.trim();
        const password = form.elements['password'].value;
        try {
          LinkUIU.setLoading(true);
          let payload;
          if (/^01\d{8}$/.test(identifier)) {
            payload = { student_id: identifier, password };
          } else {
            payload = { email: identifier, password };
          }
          const data = await LinkUIU.api('/auth/login', { method: 'POST', body: payload });
          LinkUIU.saveAuth(data);
          LinkUIU.showToast('Logged in', 'success');
          location.href = './dashboard.html';
        } catch (e) {
          err.textContent = e.message;
          LinkUIU.showToast(e.message, 'error');
        } finally { LinkUIU.setLoading(false); }
      });
    });
  </script>
  <style> 
    body { 
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 248, 241, 0.9)), url('../assets/images/uiu-godhuli.jpg');
      background-size: cover;
      background-position: 10% center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    
    /* Student Login Button Animation */
    .student-login-btn {
      position: relative;
      overflow: hidden;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      background: linear-gradient(135deg, #FF6F00, #F57C00);
      border: none;
      color: white;
      text-decoration: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
    }
    
    .student-login-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.6s ease;
    }
    
    .student-login-btn:hover::before {
      left: 100%;
    }
    
    .student-login-btn:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 25px rgba(255, 111, 0, 0.4);
      background: linear-gradient(135deg, #FF8F00, #FF9800);
    }
    
    .student-login-btn:active {
      transform: translateY(0) scale(1.02);
    }
    
    .btn-text {
      position: relative;
      z-index: 2;
      transition: all 0.3s ease;
    }
    
    .btn-icon {
      position: relative;
      z-index: 2;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      animation: bounce 2s infinite;
    }
    
    .student-login-btn:hover .btn-icon {
      animation: spin 0.6s ease-in-out;
    }
    
    .student-login-btn:hover .btn-text {
      letter-spacing: 0.5px;
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-3px);
      }
      60% {
        transform: translateY(-2px);
      }
    }
    
    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }
  </style>
  </head>
<body class="login-page">
  <header class="header">
    <div class="header-inner">
      <div class="brand-left">
        <img class="uiu-logo" src="../assets/images/uiu_logo.png?v=2" alt="UIU logo" />
      </div>
      <div class="brand-center"></div>
      <div class="brand-right">
        <img class="linkuiu-logo" src="../assets/images/linkuiu_logo.png" alt="LinkUIU logo" onclick="location.href='./landing.html'" style="cursor: pointer;" />
      </div>
      <button class="hamburger" aria-label="Toggle mobile menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="nav">
        <span class="nav-link" onclick="location.href='./landing.html'" style="cursor: pointer;">Home</span>
        <span class="nav-link" onclick="location.href='jobs.html'" style="cursor: pointer;">Jobs</span>
        <span class="nav-link" onclick="location.href='connections.html'" style="cursor: pointer;">Connect</span>
        <span class="nav-link" onclick="location.href='messages.html'" style="cursor: pointer;">Messages</span>
        <span class="nav-link" onclick="location.href='search.html'" style="cursor: pointer;">Directory</span>
        <span class="nav-link" onclick="location.href='profile.html'" style="cursor: pointer;">Profile</span>
        <a href="signup.html" class="btn btn-primary">Sign Up</a>
      </nav>
    </div>
    
    <!-- Mobile Navigation -->
    <div class="mobile-nav">
      <div class="mobile-nav-content">
        <div class="mobile-nav-header">
          <img class="linkuiu-logo" src="../assets/images/linkuiu_logo.png" alt="LinkUIU logo" style="height: 30px;" />
          <button class="mobile-nav-close" aria-label="Close mobile menu">&times;</button>
        </div>
        <div class="mobile-nav-links">
          <span onclick="location.href='./landing.html'; closeMobileMenu();" style="cursor: pointer;">Home</span>
          <span onclick="location.href='jobs.html'; closeMobileMenu();" style="cursor: pointer;">Jobs</span>
          <span onclick="location.href='connections.html'; closeMobileMenu();" style="cursor: pointer;">Connect</span>
          <span onclick="location.href='messages.html'; closeMobileMenu();" style="cursor: pointer;">Messages</span>
          <span onclick="location.href='search.html'; closeMobileMenu();" style="cursor: pointer;">Directory</span>
          <span onclick="location.href='profile.html'; closeMobileMenu();" style="cursor: pointer;">Profile</span>
          <a href="signup.html" class="btn btn-primary">Sign Up</a>
        </div>
      </div>
    </div>
  </header>
  <div class="centered">
    <div class="card">
        <div class="brand">
          <div class="brand-badge">ðŸŽ“</div>
          <div>
            <div class="title">Welcome back</div>
            <div class="subtitle">Choose your login portal</div>
          </div>
        </div>
      
      <div class="login-horizontal">
        <div class="login-options-horizontal">
          <div class="login-option-horizontal">
            <div class="option-icon">ðŸŽ“</div>
            <h3>Current Student</h3>
            <p>Access your academic dashboard, assignments, and student resources</p>
            <a href="./login-student.html" class="btn btn-primary student-login-btn">
              <span class="btn-text">Student Login</span>
              <span class="btn-icon">ðŸŽ“</span>
            </a>
          </div>
          
          <div class="login-option-horizontal">
            <div class="option-icon">ðŸŒŸ</div>
            <h3>Alumni</h3>
            <p>Reconnect with your network, share opportunities, and stay updated</p>
            <a href="./login-alumni.html" class="btn btn-primary">Alumni Login</a>
          </div>
        </div>
        
        <div class="divider-vertical">
          <span>or</span>
        </div>
        
        <div class="quick-login-form">
          <form id="login-form">
            <div class="field">
              <label class="label">UIU Email or Student ID</label>
              <input class="input" name="identifier" placeholder="name@bscse.uiu.ac.bd or 0112230000" required />
            </div>
            <div class="field">
              <label class="label">Password</label>
              <input class="input" type="password" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
            </div>
            <button class="btn btn-outline" type="submit">Quick Login</button>
            <div id="error" class="error"></div>
            <div class="mt-16">New here? <a href="./signup.html">Create an account</a></div>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

